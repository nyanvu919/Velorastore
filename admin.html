<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Velora Fashion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="admin-container">
        <!-- Admin Header -->
        <div class="admin-header">
            <div>
                <h1><i class="fas fa-crown"></i> Admin Dashboard - Velora Fashion</h1>
                <p>Quản lý đơn hàng và thống kê kinh doanh</p>
            </div>
            <div id="connectionStatus" style="background: rgba(255,255,255,0.1); padding: 10px 15px; border-radius: 8px;">
                <i class="fas fa-circle" style="color: #ccc; margin-right: 5px;"></i>
                <span>Chưa kết nối</span>
            </div>
        </div>
        
        <!-- Stats Cards -->
        <div class="stats-grid" id="statsGrid">
            <!-- Stats cards sẽ được tải bởi JavaScript -->
        </div>
        
        <!-- Controls -->
        <div class="controls">
            <input type="password" id="adminKey" placeholder="Nhập Admin API Key để kết nối">
            <button class="btn btn-primary" onclick="connectAdmin()">
                <i class="fas fa-plug"></i> Kết nối
            </button>
            <button class="btn btn-success" onclick="loadData()" id="refreshBtn" disabled>
                <i class="fas fa-sync-alt"></i> Làm mới
            </button>
            <button class="btn" onclick="exportData()" id="exportBtn" disabled style="background: #6c757d; color: white;">
                <i class="fas fa-download"></i> Xuất Excel
            </button>
            <div style="margin-left: auto;">
                <select id="statusFilter" onchange="filterOrders()" style="padding: 12px 15px; border: 2px solid #e1e5eb; border-radius: 8px;">
                    <option value="">Tất cả trạng thái</option>
                    <option value="pending">Chờ xử lý</option>
                    <option value="processing">Đang xử lý</option>
                    <option value="shipped">Đang giao</option>
                    <option value="delivered">Đã giao</option>
                    <option value="cancelled">Đã hủy</option>
                </select>
            </div>
        </div>
        
        <!-- Orders Table -->
        <div class="orders-section">
            <div class="section-header">
                <h2><i class="fas fa-list"></i> Danh sách đơn hàng (<span id="ordersCount">0</span>)</h2>
                <div>
                    <span style="color: #666; font-size: 0.9rem;">Tự động làm mới sau <span id="countdown">30</span>s</span>
                </div>
            </div>
            
            <div id="ordersTable">
                <div class="loading">
                    <div class="loader"></div>
                    <p>Vui lòng nhập Admin Key và kết nối</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Order Details Modal -->
    <div class="modal order-modal" id="orderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="color: white; margin: 0;">Chi tiết đơn hàng</h2>
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="orderDetails">
                <!-- Order details sẽ được tải bởi JavaScript -->
            </div>
        </div>
    </div>
    
    <script src="admin.js"></script>
</body>
</html>
